# Legitimize Bastard
character_event = {
	id = 1000182437
	picture = GFX_evt_emissary

	is_triggered_only = yes

	desc = "EVTDESC1000182437"

	option = {
		name = "EVTOPTA1000182437"
		piety = -10
		FROM = {
			if = {
				limit = {
					NOT = { culture = ROOT }
				}
				culture = ROOT
			}
			if = {
				limit = {
					NOT = { dynasty = ROOT }
				}
				dynasty = ROOT
			}
			if = {
				limit = {
					NOT = { religion = ROOT }
				}
				religion = ROOT
			}
			hidden_tooltip = {
				if = {
					limit = {
						ROOT = {
							trait = divine_blood
						}
					}
					add_trait = divine_blood
				}
				if = {
					limit = {
						ROOT = {
							NOT = { trait = divine_blood }
						}
					}
					remove_trait = divine_blood
				}
			}
			hidden_tooltip = { remove_trait = bastard }
			add_trait = legit_bastard

			opinion = {
				who = ROOT
				modifier = legitimized_me
				years = 10
			}
			mother = {
				opinion = {
					who = ROOT
					modifier = legitimized_child
					years = 10
				}
			}
		}
		spouse = {
			if = {
				limit = {
					NOT = {
						any_child = {
							character = FROM
						}
					}
				}
				opinion = {
					who = ROOT
					modifier = legitimized_bastard
					years = 20
				}
			}
		}
		any_child = {
			limit = {
				NOT = { character = FROM }
				NOT = { FROM = { mother = { character = PREVPREV } } }
				dynasty = ROOT
				NOT = { trait = bastard }
				NOT = { trait = legit_bastard }
			}
			opinion = {
				who = ROOT
				modifier = legitimized_bastard
				months = 12
			}
		}
		recalc_succession = yes
		hidden_tooltip = {
			FROM = {
				remove_title = legitimize_bastard
			}
		}
	}
	option = {
		name = "EVTOPTB1000182437"
		hidden_tooltip = {
			FROM = {
				remove_title = legitimize_bastard
			}
		}
	}
}

# Revoke minor title
character_event = {
	id = 1000182439
	picture = GFX_evt_emissary

	is_triggered_only = yes

	desc = "EVTDESC1000182439"

	option = {
		name = "EVTOPTA1000182439"
		FROM = {
			if = {
				limit = {
					NOT = {
						has_minor_title = title_food_taster
						has_minor_title = title_court_jester
					}
				}
				hidden_tooltip = {
					remove_opinion = {
						modifier = opinion_fired_from_office
						who = ROOT
					}
				}
				opinion = {
					modifier = opinion_fired_from_office
					who = ROOT
					years = 10
				}
			}
			if = {
				limit = {
					has_minor_title = title_food_taster
				}
				remove_title = title_food_taster
			}
			if = {
				limit = {
					has_minor_title = title_court_jester
				}
				remove_title = title_court_jester
			}
			if = {
				limit = {
					has_minor_title = title_high_almoner
				}
				remove_title = title_high_almoner
			}
			if = {
				limit = {
					has_minor_title = title_master_of_the_horse
				}
				remove_title = title_master_of_the_horse
			}
			if = {
				limit = {
					has_minor_title = title_master_of_the_hunt
				}
				remove_title = title_master_of_the_hunt
			}
			if = {
				limit = {
					has_minor_title = title_cupbearer
				}
				remove_title = title_cupbearer
			}
			if = {
				limit = {
					has_minor_title = title_seneschal
				}
				remove_title = title_seneschal
			}
			if = {
				limit = {
					has_minor_title = title_despot
				}
				remove_title = title_despot
			}
			if = {
				limit = {
					has_minor_title = title_sebastokrator
				}
				remove_title = title_sebastokrator
			}
			if = {
				limit = {
					has_minor_title = title_kouropalates
				}
				remove_title = title_kouropalates
			}
			if = {
				limit = {
					has_minor_title = title_caesar
				}
				remove_title = title_caesar
			}
			if = {
				limit = {
					has_minor_title = title_anthypatos
				}
				remove_title = title_anthypatos
			}
			if = {
				limit = {
					has_minor_title = title_keeper_of_swans
				}
				remove_title = title_keeper_of_swans
			}
			if = {
				limit = {
					has_minor_title = title_court_dwarf
				}
				remove_title = title_court_dwarf
			}
			if = {
				limit = {
					has_minor_title = title_court_calligrapher
				}
				remove_title = title_court_calligrapher
			}
			if = {
				limit = {
					has_minor_title = title_court_musician
				}
				remove_title = title_court_musician
			}
			if = {
				limit = {
					has_minor_title = title_court_poet
				}
				remove_title = title_court_poet
			}
			if = {
				limit = {
					has_minor_title = title_chief_architect
				}
				remove_title = title_chief_architect
			}
			if = {
				limit = {
					has_minor_title = title_patrician_heir
				}
				remove_title = title_patrician_heir
			}
			if = {
				limit = {
					has_minor_title = title_high_judge
				}
				remove_title = title_high_judge
			}
			if = {
				limit = {
					has_minor_title = title_high_admiral
				}
				remove_title = title_high_admiral
			}
			if = {
				limit = {
					has_minor_title = title_state_inquisitor
				}
				remove_title = title_state_inquisitor
			}
			if = {
				limit = {
					has_minor_title = title_volva
				}
				remove_title = title_volva
			}
			if = {
				limit = {
					has_minor_title = title_lawspeaker
				}
				remove_title = title_lawspeaker
			}
			if = {
				limit = {
					has_minor_title = title_drottseti
				}
				remove_title = title_drottseti
			}
			if = {
				limit = {
					has_minor_title = title_court_skald
				}
				remove_title = title_court_skald
			}
			if = {
				limit = {
					has_minor_title = title_marksman
				}
				remove_title = title_marksman
			}
			if = {
				limit = {
					has_minor_title = title_hirdman
				}
				remove_title = title_hirdman
			}
			if = {
				limit = {
					has_minor_title = title_baghatur
				}
				remove_title = title_baghatur
			}
			if = {
				limit = {
					has_minor_title = title_cherbi
				}
				remove_title = title_cherbi
			}
			if = {
				limit = {
					has_minor_title = title_darkhan
				}
				remove_title = title_darkhan
			}
			if = {
				limit = {
					has_minor_title = title_noyan
				}
				remove_title = title_noyan
			}
			if = {
				limit = {
					has_minor_title = title_shahrwaraz
				}
				remove_title = title_shahrwaraz
			}
			if = {
				limit = {
					has_minor_title = title_kardarigan
				}
				remove_title = title_kardarigan
			}
			if = {
				limit = {
					has_minor_title = title_shahin
				}
				remove_title = title_shahin
			}
			if = {
				limit = {
					has_minor_title = title_pushtigban_salar
				}
				remove_title = title_pushtigban_salar
			}
			if = {
				limit = {
					has_minor_title = title_spahbod
				}
				remove_title = title_spahbod
			}
			if = {
				limit = {
					has_minor_title = title_eran_ambaragbed
				}
				remove_title = title_eran_ambaragbed
			}
			if = {
				limit = {
					has_minor_title = title_champion
				}
				remove_title = title_champion
			}
			if = {
				limit = {
					has_minor_title = title_master_of_the_blade
				}
				remove_title = title_master_of_the_blade
			}
			if = {
				limit = {
					has_minor_title = title_master_of_the_bow
				}
				remove_title = title_master_of_the_bow
			}
			if = {
				limit = {
					has_minor_title = title_venerable_elder
				}
				remove_title = title_venerable_elder
			}
			if = {
				limit = {
					has_minor_title = title_yabgu
				}
				remove_title = title_yabgu
			}
			if = {
				limit = {
					has_minor_title = title_ishad
				}
				remove_title = title_ishad
			}
			if = {
				limit = {
					has_minor_title = title_kundur
				}
				remove_title = title_kundur
			}
			if = {
				limit = {
					has_minor_title = title_chief_qadi
				}
				remove_title = title_chief_qadi
			}
			if = {
				limit = {
					has_minor_title = title_favored_son
				}
				remove_title = title_favored_son
			}
			if = {
				limit = {
					has_minor_title = title_court_eunuch
				}
				remove_title = title_court_eunuch
			}
		}
		hidden_tooltip = {
			FROM = {
				remove_title = revoke_minor_title
			}
		}
	}
	option = {
		name = "EVTOPTB1000182439"
		hidden_tooltip = {
			FROM = {
				remove_title = revoke_minor_title
			}
		}
	}
}

# Pardon
character_event = {
	id = 1000182440
	picture = GFX_evt_emissary

	is_triggered_only = yes

	desc = "EVTDESC1000182440"

	option = {
		name = "EVTOPTA1000182440"
		if = {
			limit = {
				FROM = {
					prisoner = no
					vassal_of = ROOT
					OR = {
						reverse_has_opinion_modifier = {
							who = liege
							modifier = opinion_traitor
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = declared_war
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = opinion_dishonorable
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_murder_of_spouse
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_murder_of_vassal
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_murder
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_murder_of_child
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = opinion_spouse_slayer
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = opinion_murder_attempt
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = opinion_killed_close_kin
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = opinion_fatwa_target
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_murder_of_close_kin
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = killed_vassal
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = opinion_civil_war_loser
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = mad_heretic
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = devious_plotter
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_kidnapping
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_kidnapping_of_kin
						}
						reverse_has_opinion_modifier = {
							who = liege
							modifier = attempted_kidnapping_of_vassal
						}
					}
				}
			}
			FROM = {
				custom_tooltip = { text = CUSTOMTOOLTIP37 }
				opinion = {
					who = ROOT
					modifier = opinion_relieved
					years = 5
				}
				hidden_tooltip = {
					reverse_remove_opinion = {
						who = liege
						modifier = opinion_traitor
					}
					reverse_remove_opinion = {
						who = liege
						modifier = declared_war
					}
					reverse_remove_opinion = {
						who = liege
						modifier = opinion_dishonorable
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_murder_of_spouse
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_murder_of_vassal
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_murder
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_murder_of_child
					}
					reverse_remove_opinion = {
						who = liege
						modifier = opinion_spouse_slayer
					}
					reverse_remove_opinion = {
						who = liege
						modifier = opinion_murder_attempt
					}
					reverse_remove_opinion = {
						who = liege
						modifier = opinion_killed_close_kin
					}
					reverse_remove_opinion = {
						who = liege
						modifier = opinion_fatwa_target
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_murder_of_close_kin
					}
					reverse_remove_opinion = {
						who = liege
						modifier = killed_vassal
					}
					reverse_remove_opinion = {
						who = liege
						modifier = opinion_civil_war_loser
					}
					reverse_remove_opinion = {
						who = liege
						modifier = mad_heretic
					}
					reverse_remove_opinion = {
						who = liege
						modifier = devious_plotter
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_kidnapping
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_kidnapping_of_kin
					}
					reverse_remove_opinion = {
						who = liege
						modifier = attempted_kidnapping_of_vassal
					}
				}
			}
		}
		hidden_tooltip = {
			FROM = {
				remove_title = pardon
			}
		}
	}
	option = {
		name = "EVTOPTB1000182440"
		hidden_tooltip = {
			FROM = {
				remove_title = pardon
			}
		}
	}
}

# # Knight (Sir)
# character_event = {
	# id = 1000182704
	# hide_window = yes
	
	# immediate = {
		# FROM = { dynasty = random }
	# }
# }